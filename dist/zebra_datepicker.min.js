!function(e){"use strict";"function"==typeof define&&define.amd?define(["jquery"],e):"object"==typeof exports?e(require("jquery")):e(jQuery)}(function(Ie){"use strict";Ie.Zebra_DatePicker=function(e,M){var C,P,F,Z,S,Y,x,I,z,u,j,N,H,O,T,L,R,W,B,E,Q,J,G,U,V,$,d,q,X,K,ee,te,se,ie,ne,i,ae,re,oe,de,ce,le,c,ge,_e,he={always_visible:!(this.version="1.9.11"),container:Ie("body"),custom_classes:!1,days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],days_abbr:!1,default_position:"above",direction:0,disable_time_picker:!1,disabled_dates:!1,enabled_dates:!1,enabled_hours:!1,enabled_minutes:!1,enabled_seconds:!1,first_day_of_week:1,format:"Y-m-d",header_captions:{days:"F, Y",months:"Y",years:"Y1 - Y2"},icon_margin:!1,icon_position:"right",inside:!0,lang_clear_date:"Clear date",months:["January","February","March","April","May","June","July","August","September","October","November","December"],months_abbr:!1,navigation:["&#9664;","&#9654;","&#9650;","&#9660;"],offset:[5,-5],open_icon_only:!1,open_on_focus:!1,pair:!1,readonly_element:!0,select_other_months:!1,show_clear_date:0,show_icon:!0,show_other_months:!0,show_select_today:"Today",show_week_number:!1,start_date:!1,strict:!1,view:"days",weekend_days:[0,6],zero_pad:!1,onChange:null,onClear:null,onOpen:null,onClose:null,onSelect:null},pe={},ue={},fe=!1,me="",be=!1,ye=!!navigator.platform&&/iPad|iPhone|iPod/.test(navigator.platform),ve=this,we=Ie(e);ve.settings={};var t=function(e){var t,s,i,a,n={days:["d","j","D"],months:["F","m","M","n","t"],years:["o","Y","y"],hours:["G","g","H","h"],minutes:["i"],seconds:["s"],ampm:["A","a"]},r=null;for(i=0;i<3;i++)me+=Math.floor(65536*(1+Math.random())).toString(16);if(O=[],T=[],!e)for(t in ve.settings=Ie.extend({},he,Ie.fn.Zebra_DatePicker.defaults,M),ue.readonly=we.attr("readonly"),ue.style=we.attr("style"),ue.padding_left=parseInt(we.css("paddingLeft"),10)||0,ue.padding_right=parseInt(we.css("paddingRight"),10)||0,we.data())0===t.indexOf("zdp_")&&(t=t.replace(/^zdp\_/,""),void 0!==he[t]&&(ve.settings[t]="pair"===t?Ie(we.data("zdp_"+t)):we.data("zdp_"+t)));for(r in ve.settings.readonly_element?we.attr("readonly","readonly"):we.removeAttr("readonly"),ce=!1,_e=[],n)Ie.each(n[r],function(e,t){var s,i;if(-1<ve.settings.format.indexOf(t))if("days"===r)_e.push("days");else if("months"===r)_e.push("months");else if("years"===r)_e.push("years");else if(("hours"===r||"minutes"===r||"seconds"===r||"ampm"===r)&&!ve.settings.disable_time_picker)if(ce||(ce={is12hour:!1},_e.push("time")),"hours"===r)for("g"===t||"h"===t?(i=12,ce.is12hour=!0):i=24,ce.hours=[],s=12===i?1:0;s<(12===i?13:i);s++)(!Ie.isArray(ve.settings.enabled_hours)||-1<Ie.inArray(s,ve.settings.enabled_hours))&&ce.hours.push(s);else if("minutes"===r)for(ce.minutes=[],s=0;s<60;s++)(!Ie.isArray(ve.settings.enabled_minutes)||-1<Ie.inArray(s,ve.settings.enabled_minutes))&&ce.minutes.push(s);else if("seconds"===r)for(ce.seconds=[],s=0;s<60;s++)(!Ie.isArray(ve.settings.enabled_seconds)||-1<Ie.inArray(s,ve.settings.enabled_seconds))&&ce.seconds.push(s);else ce.ampm=["am","pm"]});for(i in 0===_e.length&&(_e=["years","months","days"]),-1===Ie.inArray(ve.settings.view,_e)&&(ve.settings.view=_e[_e.length-1]),x=[],ve.settings.custom_classes)ve.settings.custom_classes.hasOwnProperty(i)&&-1===x.indexOf(i)&&x.push(i);for(a=0;a<2+x.length;a++)s=0===a?ve.settings.disabled_dates:1===a?ve.settings.enabled_dates:ve.settings.custom_classes[x[a-2]],Ie.isArray(s)&&0<s.length&&Ie.each(s,function(){var e,t,s,i,n=this.split(" ");for(e=0;e<4;e++){for(n[e]||(n[e]="*"),n[e]=-1<n[e].indexOf(",")?n[e].split(","):new Array(n[e]),t=0;t<n[e].length;t++)if(-1<n[e][t].indexOf("-")&&null!==(i=n[e][t].match(/^([0-9]+)\-([0-9]+)/))){for(s=Se(i[1]);s<=Se(i[2]);s++)-1===Ie.inArray(s,n[e])&&n[e].push(s+"");n[e].splice(t,1)}for(t=0;t<n[e].length;t++)n[e][t]=isNaN(Se(n[e][t]))?n[e][t]:Se(n[e][t])}0===a?O.push(n):1===a?T.push(n):(void 0===pe[x[a-2]]&&(pe[x[a-2]]=[]),pe[x[a-2]].push(n))});var o,d,c=new Date,l=ve.settings.reference_date?ve.settings.reference_date:we.data("zdp_reference_date")&&void 0!==we.data("zdp_reference_date")?we.data("zdp_reference_date"):c;if(L=re=void 0,W=l.getMonth(),S=c.getMonth(),B=l.getFullYear(),Y=c.getFullYear(),R=l.getDate(),Z=c.getDate(),!0===ve.settings.direction)re=l;else if(!1===ve.settings.direction)U=(L=l).getMonth(),V=L.getFullYear(),G=L.getDate();else if(!Ie.isArray(ve.settings.direction)&&Ce(ve.settings.direction)&&0<Se(ve.settings.direction)||Ie.isArray(ve.settings.direction)&&((o=ke(ve.settings.direction[0]))||!0===ve.settings.direction[0]||Ce(ve.settings.direction[0])&&0<ve.settings.direction[0])&&((d=ke(ve.settings.direction[1]))||!1===ve.settings.direction[1]||Ce(ve.settings.direction[1])&&0<=ve.settings.direction[1]))re=o||new Date(B,W,R+(Ie.isArray(ve.settings.direction)?Se(!0===ve.settings.direction[0]?0:ve.settings.direction[0]):Se(ve.settings.direction))),W=re.getMonth(),B=re.getFullYear(),R=re.getDate(),d&&+re<=+d?L=d:!d&&!1!==ve.settings.direction[1]&&Ie.isArray(ve.settings.direction)&&(L=new Date(B,W,R+Se(ve.settings.direction[1]))),L&&(U=L.getMonth(),V=L.getFullYear(),G=L.getDate());else if(!Ie.isArray(ve.settings.direction)&&Ce(ve.settings.direction)&&Se(ve.settings.direction)<0||Ie.isArray(ve.settings.direction)&&(!1===ve.settings.direction[0]||Ce(ve.settings.direction[0])&&ve.settings.direction[0]<0)&&((o=ke(ve.settings.direction[1]))||Ce(ve.settings.direction[1])&&0<=ve.settings.direction[1]))L=new Date(B,W,R+(Ie.isArray(ve.settings.direction)?Se(!1===ve.settings.direction[0]?0:ve.settings.direction[0]):Se(ve.settings.direction))),U=L.getMonth(),V=L.getFullYear(),G=L.getDate(),o&&+o<+L?re=o:!o&&Ie.isArray(ve.settings.direction)&&(re=new Date(V,U,G-Se(ve.settings.direction[1]))),re&&(W=re.getMonth(),B=re.getFullYear(),R=re.getDate());else if(Ie.isArray(ve.settings.disabled_dates)&&0<ve.settings.disabled_dates.length)for(var g in O)if(-1<Ie.inArray("*",O[g][0])&&-1<Ie.inArray("*",O[g][1])&&-1<Ie.inArray("*",O[g][2])&&-1<Ie.inArray("*",O[g][3])){var _=[];if(Ie.each(T,function(){var e=this;"*"!==e[2][0]&&_.push(parseInt(e[2][0]+("*"===e[1][0]?"12":Ze(e[1][0],2))+("*"===e[0][0]?"*"===e[1][0]?"31":new Date(e[2][0],e[1][0],0).getDate():Ze(e[0][0],2)),10))}),_.sort(),0<_.length){var h=(_[0]+"").match(/([0-9]{4})([0-9]{2})([0-9]{2})/);B=parseInt(h[1],10),W=parseInt(h[2],10)-1,R=parseInt(h[3],10)}break}if(Me(B,W,R)){for(;Me(B);)re?(B++,W=0):(B--,W=11);for(;Me(B,W);)re?(W++,R=1):(W--,R=new Date(B,W+1,0).getDate()),11<W?(B++,W=0,R=1):W<0&&(B--,W=11,R=new Date(B,W+1,0).getDate());for(;Me(B,W,R);)re?R++:R--,c=new Date(B,W,R),B=c.getFullYear(),W=c.getMonth(),R=c.getDate();c=new Date(B,W,R),B=c.getFullYear(),W=c.getMonth(),R=c.getDate()}ve.settings.start_date&&"object"==typeof ve.settings.start_date&&ve.settings.start_date instanceof Date&&(ve.settings.start_date=Ae(ve.settings.start_date));var p=ke(we.val()||(ve.settings.start_date?ve.settings.start_date:""));if(p&&ve.settings.strict&&Me(p.getFullYear(),p.getMonth(),p.getDate())&&we.val(""),e||void 0===re&&void 0===p||Ye(void 0!==p?p:re),!(ve.settings.always_visible instanceof jQuery)){if(!e){if(ve.settings.show_icon){"firefox"===xe.name&&we.is('input[type="text"]')&&"inline"===we.css("display")&&we.css("display","inline-block");var u=parseInt(we.css("marginTop"),10)||0,f=parseInt(we.css("marginRight"),10)||0,m=parseInt(we.css("marginBottom"),10)||0,b=parseInt(we.css("marginLeft"),10)||0,y=Ie('<span class="Zebra_DatePicker_Icon_Wrapper"></span>').css({display:we.css("display"),position:"static"===we.css("position")?"relative":we.css("position"),"float":we.css("float"),top:we.css("top"),right:we.css("right"),bottom:we.css("bottom"),left:we.css("left"),marginTop:u<0?u:0,marginRight:f<0?f:0,marginBottom:m<0?m:0,marginLeft:b<0?b:0,paddingTop:u,paddingRight:f,paddingBottom:m,paddingLeft:b});"block"===we.css("display")&&y.css("width",we.outerWidth(!0)),we.wrap(y).css({position:"relative","float":"none",top:"auto",right:"auto",bottom:"auto",left:"auto",marginTop:0,marginRight:0,marginBottom:0,marginLeft:0}),J=Ie('<button type="button" class="Zebra_DatePicker_Icon'+("disabled"===we.attr("disabled")?" Zebra_DatePicker_Icon_Disabled":"")+'">Pick a date</button>'),ve.icon=J,P=ve.settings.open_icon_only?J:J.add(we)}else P=we;P.on("click.Zebra_DatePicker_"+me+(ve.settings.open_on_focus?" focus.Zebra_DatePicker_"+me:""),function(){I.hasClass("dp_hidden")&&!we.attr("disabled")&&(!be||ve.settings.readonly_element?ve.show():(clearTimeout(oe),oe=setTimeout(function(){ve.show()},600)))}),P.on("keydown.Zebra_DatePicker_"+me,function(e){9!==e.keyCode||I.hasClass("dp_hidden")||ve.hide()}),!ve.settings.readonly_element&&ve.settings.pair&&we.on("blur.Zebra_DatePicker_"+me,function(){var e;(e=ke(Ie(this).val()))&&!Me(e.getFullYear(),e.getMonth(),e.getDate())&&Ye(e)}),void 0!==J&&J.insertAfter(we)}if(void 0!==J){J.attr("style","");var v=we.outerWidth(),w=we.outerHeight(),k=J.outerWidth(),D=J.outerHeight();J.css("top",(w-D)/2),ve.settings.inside?"right"===ve.settings.icon_position?(J.css("right",!1!==ve.settings.icon_margin?ve.settings.icon_margin:ue.padding_right),we.css("paddingRight",2*(!1!==ve.settings.icon_margin?ve.settings.icon_margin:ue.padding_right)+k)):(J.css("left",!1!==ve.settings.icon_margin?ve.settings.icon_margin:ue.padding_left),we.css("paddingLeft",2*(!1!==ve.settings.icon_margin?ve.settings.icon_margin:ue.padding_left)+k)):J.css("left",v+(!1!==ve.settings.icon_margin?ve.settings.icon_margin:ue.padding_left)),J.removeClass("Zebra_DatePicker_Icon_Disabled"),"disabled"===we.attr("disabled")&&J.addClass("Zebra_DatePicker_Icon_Disabled")}}if(ae=!1!==ve.settings.show_select_today&&-1<Ie.inArray("days",_e)&&!Me(Y,S,Z)&&ve.settings.show_select_today,e)return Ie(".dp_previous",I).html(ve.settings.navigation[0]),Ie(".dp_next",I).html(ve.settings.navigation[1]),Ie(".dp_time_controls_increase .dp_time_control",I).html(ve.settings.navigation[2]),Ie(".dp_time_controls_decrease .dp_time_control",I).html(ve.settings.navigation[3]),Ie(".dp_clear",I).html(ve.settings.lang_clear_date),void Ie(".dp_today",I).html(ve.settings.show_select_today);Ie(window).on("resize.Zebra_DatePicker_"+me+", orientationchange.Zebra_DatePicker_"+me,function(){ve.hide()});var A='<div class="Zebra_DatePicker"><table class="dp_header dp_actions"><tr><td class="dp_previous">'+ve.settings.navigation[0]+(ye?"&#xFE0E;":"")+'</td><td class="dp_caption"></td><td class="dp_next">'+ve.settings.navigation[1]+(ye?"&#xFE0E;":"")+'</td></tr></table><table class="dp_daypicker'+(ve.settings.show_week_number?" dp_week_numbers":"")+' dp_body"></table><table class="dp_monthpicker dp_body"></table><table class="dp_yearpicker dp_body"></table><table class="dp_timepicker dp_body"></table><table class="dp_footer dp_actions"><tr><td class="dp_today">'+ae+'</td><td class="dp_clear">'+ve.settings.lang_clear_date+'</td><td class="dp_view_toggler dp_icon">&nbsp;&nbsp;&nbsp;&nbsp;</td><td class="dp_confirm dp_icon"></td></tr></table></div>';I=Ie(A),Q=Ie("table.dp_header",I),z=Ie("table.dp_daypicker",I),$=Ie("table.dp_monthpicker",I),le=Ie("table.dp_yearpicker",I),de=Ie("table.dp_timepicker",I),E=Ie("table.dp_footer",I),ne=Ie("td.dp_today",E),C=Ie("td.dp_clear",E),te=Ie("td.dp_view_toggler",E),F=Ie("td.dp_confirm",E),ve.settings.always_visible instanceof jQuery?we.attr("disabled")||(ve.settings.always_visible.append(I),ve.show()):ve.settings.container.append(I),I.on("mouseover","td:not(.dp_disabled)",function(){Ie(this).addClass("dp_hover")}).on("mouseout","td:not(.dp_disabled)",function(){Ie(this).removeClass("dp_hover")}),De(I),Ie(".dp_previous",Q).on("click",function(){"months"===ge?ie--:"years"===ge?ie-=12:--se<0&&(se=11,ie--),Pe()}),Ie(".dp_caption",Q).on("click",function(){ge="days"===ge?-1<Ie.inArray("months",_e)?"months":-1<Ie.inArray("years",_e)?"years":"days":"months"===ge?-1<Ie.inArray("years",_e)?"years":-1<Ie.inArray("days",_e)?"days":"months":-1<Ie.inArray("days",_e)?"days":-1<Ie.inArray("months",_e)?"months":"years",Pe()}),Ie(".dp_next",Q).on("click",function(){"months"===ge?ie++:"years"===ge?ie+=12:12==++se&&(se=0,ie++),Pe()}),z.on("click","td:not(.dp_disabled)",function(){var e;ve.settings.select_other_months&&Ie(this).attr("class")&&null!==(e=Ie(this).attr("class").match(/date\_([0-9]{4})(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])/))?Fe(e[1],e[2]-1,e[3],"days",Ie(this)):Fe(ie,se,Se(Ie(this).html()),"days",Ie(this))}),$.on("click","td:not(.dp_disabled)",function(){var e=Ie(this).attr("class").match(/dp\_month\_([0-9]+)/);se=Se(e[1]),-1===Ie.inArray("days",_e)?Fe(ie,se,1,"months",Ie(this)):(ge="days",ve.settings.always_visible&&we.val(""),Pe())}),le.on("click","td:not(.dp_disabled)",function(){ie=Se(Ie(this).html()),-1===Ie.inArray("months",_e)?Fe(ie,1,1,"years",Ie(this)):(ge="months",ve.settings.always_visible&&we.val(""),Pe())}),ne.on("click",function(e){var t=new Date;e.preventDefault(),Fe(t.getFullYear(),t.getMonth(),t.getDate(),"days",Ie(".dp_current",z))}),C.on("click",function(e){e.preventDefault(),we.val(""),H=N=j=null,ve.settings.always_visible?Ie("td.dp_selected",I).removeClass("dp_selected"):ie=se=null,we.focus(),ve.hide(),ve.settings.onClear&&"function"==typeof ve.settings.onClear&&ve.settings.onClear.call(we)}),te.on("click",function(){"time"!==ge?(ge="time",Pe()):Ie(".dp_caption",Q).trigger("click")}),F.on("click",function(){if(Ie(".dp_time_controls_increase td",de).trigger("click"),Ie(".dp_time_controls_decrease td",de).trigger("click"),ve.settings.onSelect&&"function"==typeof ve.settings.onSelect){var e=new Date(ie,se,j,ce&&ce.hours?q+(ce.ampm&&("pm"===ee&&q<12||"am"===ee&&12===q)?12:0):0,ce&&ce.minutes?X:0,ce&&ce.seconds?K:0);ve.settings.onSelect.call(we,Ae(e),ie+"-"+Ze(se+1,2)+"-"+Ze(j,2)+(ce?" "+Ze(e.getHours(),2)+":"+Ze(e.getMinutes(),2)+":"+Ze(e.getSeconds(),2):""),e)}ve.hide()}),I.on("click",".dp_time_controls_increase td, .dp_time_controls_decrease td",function(){var e,t=0<Ie(this).parent(".dp_time_controls_increase").length,s=Ie(this).attr("class").match(/dp\_time\_([^\s]+)/i),i=Ie(".dp_time_segments .dp_time_"+s[1]+("ampm"!==s[1]?"s":""),de),n=i.text().toLowerCase(),a=ce[s[1]+("ampm"!==s[1]?"s":"")],r=Ie.inArray("ampm"!==s[1]?parseInt(n,10):n,a),o=-1===r?0:t?r+1>=a.length?0:r+1:r-1<0?a.length-1:r-1;"hour"===s[1]?q=a[o]:"minute"===s[1]?X=a[o]:"second"===s[1]?K=a[o]:ee=a[o],!j&&ve.settings.start_date&&(e=ke(ve.settings.start_date))&&(j=e.getDate()),j||(j=R),i.text(Ze(a[o],2).toUpperCase()),Fe(ie,se,j)}),ve.settings.always_visible instanceof jQuery||(Ie(document).on("touchmove.Zebra_DatePicker_"+me,function(){fe=!0}),Ie(document).on("mousedown.Zebra_DatePicker_"+me+" touchend.Zebra_DatePicker_"+me,function(e){if("touchend"===e.type&&fe)return fe=!(be=!0);fe=!1,I.hasClass("dp_hidden")||(!ve.settings.open_icon_only||!ve.icon||Ie(e.target).get(0)===ve.icon.get(0))&&(ve.settings.open_icon_only||Ie(e.target).get(0)===we.get(0)||ve.icon&&Ie(e.target).get(0)===ve.icon.get(0))||0!==Ie(e.target).parents().filter(".Zebra_DatePicker").length||ve.hide(!0)}),Ie(document).on("keyup.Zebra_DatePicker_"+me,function(e){I.hasClass("dp_hidden")||27!==e.which||ve.hide()})),Pe()};ve.clear_date=function(){Ie(C).trigger("click")},ve.destroy=function(){void 0!==ve.icon&&(ve.icon.off("click.Zebra_DatePicker_"+me),ve.icon.off("focus.Zebra_DatePicker_"+me),ve.icon.off("keydown.Zebra_DatePicker_"+me),ve.icon.remove()),I.off(),I.remove(),!ve.settings.show_icon||ve.settings.always_visible instanceof jQuery||we.unwrap(),we.off("blur.Zebra_DatePicker_"+me),we.off("click.Zebra_DatePicker_"+me),we.off("focus.Zebra_DatePicker_"+me),we.off("keydown.Zebra_DatePicker_"+me),we.off("mousedown.Zebra_DatePicker_"+me),Ie(document).off("keyup.Zebra_DatePicker_"+me),Ie(document).off("mousedown.Zebra_DatePicker_"+me),Ie(document).off("touchend.Zebra_DatePicker_"+me),Ie(window).off("resize.Zebra_DatePicker_"+me),Ie(window).off("orientationchange.Zebra_DatePicker_"+me),we.removeData("Zebra_DatePicker"),we.attr("readonly",ue.readonly),we.attr("style",ue.style?ue.style:""),we.css("paddingLeft",ue.padding_left),we.css("paddingRight",ue.padding_right)},ve.hide=function(e){I.hasClass("dp_hidden")||ve.settings.always_visible&&!e||(l("hide"),I.addClass("dp_hidden"),ve.settings.onClose&&"function"==typeof ve.settings.onClose&&ve.settings.onClose.call(we))},ve.set_date=function(e){var t;"object"==typeof e&&e instanceof Date&&(e=Ae(e)),(t=ke(e))&&!Me(t.getFullYear(),t.getMonth(),t.getDate())&&(we.val(e),Ye(t))},ve.show=function(){ge=ve.settings.view;var e,t=ke(we.val()||(ve.settings.start_date?ve.settings.start_date:""));if(t?(N=t.getMonth(),se=t.getMonth(),H=t.getFullYear(),ie=t.getFullYear(),j=t.getDate(),Me(H,N,j)&&(ve.settings.strict&&we.val(""),se=W,ie=B)):(se=W,ie=B),ce&&(e=t||new Date,q=e.getHours(),X=e.getMinutes(),K=e.getSeconds(),ee=12<=q?"pm":"am",ce.is12hour&&(q=q%12==0?12:q%12),Ie.isArray(ve.settings.enabled_hours)&&-1===Ie.inArray(q,ve.settings.enabled_hours)&&(q=ve.settings.enabled_hours[0]),Ie.isArray(ve.settings.enabled_minutes)&&-1===Ie.inArray(X,ve.settings.enabled_minutes)&&(X=ve.settings.enabled_minutes[0]),Ie.isArray(ve.settings.enabled_seconds)&&-1===Ie.inArray(K,ve.settings.enabled_seconds)&&(K=ve.settings.enabled_seconds[0])),Pe(),ve.settings.always_visible instanceof jQuery)I.removeClass("dp_hidden");else{if(ve.settings.container.is("body")){var s=I.outerWidth(),i=I.outerHeight(),n=(void 0!==J?J.offset().left+J.outerWidth(!0):we.offset().left+we.outerWidth(!0))+ve.settings.offset[0],a=(void 0!==J?J.offset().top:we.offset().top)-i+ve.settings.offset[1],r=Ie(window).width(),o=Ie(window).height(),d=Ie(window).scrollTop(),c=Ie(window).scrollLeft();"below"===ve.settings.default_position&&(a=(void 0!==J?J.offset().top:we.offset().top)+ve.settings.offset[1]),c+r<n+s&&(n=c+r-s),n<c&&(n=c),d+o<a+i&&(a=d+o-i),a<d&&(a=d),I.css({left:n,top:a})}else I.css({left:0,top:0});I.removeClass("dp_hidden"),l()}ve.settings.onOpen&&"function"==typeof ve.settings.onOpen&&ve.settings.onOpen.call(we)},ve.update=function(e){ve.original_direction&&(ve.original_direction=ve.direction),ve.settings=Ie.extend(ve.settings,e),t(!0)};var ke=function(e){if(e+="",""!==Ie.trim(e)){for(var s=w(ve.settings.format),t=["d","D","j","l","N","S","w","F","m","M","n","Y","y","G","g","H","h","i","s","a","A"],i=[],n=[],a=null,r=null,o=0;o<t.length;o++)-1<(a=s.indexOf(t[o]))&&i.push({character:t[o],position:a});if(i.sort(function(e,t){return e.position-t.position}),Ie.each(i,function(e,t){switch(t.character){case"d":n.push("0[1-9]|[12][0-9]|3[01]");break;case"D":n.push("[a-z]{3}");break;case"j":n.push("[1-9]|[12][0-9]|3[01]");break;case"l":n.push("[a-zÀ-ɏ]+");break;case"N":n.push("[1-7]");break;case"S":n.push("st|nd|rd|th");break;case"w":n.push("[0-6]");break;case"F":n.push("[a-z]+");break;case"m":n.push("0[1-9]|1[012]");break;case"M":n.push("[a-z]{3}");break;case"n":n.push("[1-9]|1[012]");break;case"Y":n.push("[0-9]{4}");break;case"y":n.push("[0-9]{2}");break;case"G":n.push("[1-9]|1[0-9]|2[0123]");break;case"g":n.push("[0-9]|1[012]");break;case"H":n.push("0[0-9]|1[0-9]|2[0123]");break;case"h":n.push("0[0-9]|1[012]");break;case"i":case"s":n.push("0[0-9]|[12345][0-9]");break;case"a":n.push("am|pm");break;case"A":n.push("AM|PM")}}),n.length&&(i.reverse(),Ie.each(i,function(e,t){s=s.replace(t.character,"("+n[n.length-e-1]+")")}),n=new RegExp("^"+s+"$","ig"),r=n.exec(e))){var d,c,l=new Date,g=1,_=l.getMonth()+1,h=l.getFullYear(),p=l.getHours(),u=l.getMinutes(),f=l.getSeconds(),m=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],b=["January","February","March","April","May","June","July","August","September","October","November","December"],y=!0;if(i.reverse(),Ie.each(i,function(s,i){if(!y)return!0;switch(i.character){case"m":case"n":_=Se(r[s+1]);break;case"d":case"j":g=Se(r[s+1]);break;case"D":case"l":case"F":case"M":c="D"===i.character||"l"===i.character?ve.settings.days:ve.settings.months,y=!1,Ie.each(c,function(e,t){if(y)return!0;if(r[s+1].toLowerCase()===t.substring(0,"D"===i.character||"M"===i.character?3:t.length).toLowerCase()){switch(i.character){case"D":r[s+1]=m[e].substring(0,3);break;case"l":r[s+1]=m[e];break;case"F":r[s+1]=b[e],_=e+1;break;case"M":r[s+1]=b[e].substring(0,3),_=e+1}y=!0}});break;case"Y":h=Se(r[s+1]);break;case"y":h="19"+Se(r[s+1]);break;case"G":case"H":case"g":case"h":p=Se(r[s+1]);break;case"i":u=Se(r[s+1]);break;case"s":f=Se(r[s+1]);break;case"a":case"A":d=r[s+1].toLowerCase()}}),y){var v=new Date(h,(_||1)-1,g||1,p+("pm"===d&&12!==p?12:"am"===d&&12===p?-12:0),u,f);if(v.getFullYear()===h&&v.getDate()===(g||1)&&v.getMonth()===(_||1)-1)return v}}return!1}},De=function(e){"firefox"===xe.name?e.css("MozUserSelect","none"):"explorer"===xe.name?Ie(document).on("selectstart",e,function(){return!1}):e.mousedown(function(){return!1})},w=function(e){return e.replace(/([-.,*+?^${}()|[\]\/\\])/g,"\\$1")},Ae=function(e){var t,s,i="",n=e.getDate(),a=e.getDay(),r=ve.settings.days[a],o=e.getMonth()+1,d=ve.settings.months[o-1],c=e.getFullYear()+"",l=e.getHours(),g=l%12==0?12:l%12,_=e.getMinutes(),h=e.getSeconds(),p=12<=l?"pm":"am";for(t=0;t<ve.settings.format.length;t++)switch(s=ve.settings.format.charAt(t)){case"y":c=c.substr(2);case"Y":i+=c;break;case"m":o=Ze(o,2);case"n":i+=o;break;case"M":d=Ie.isArray(ve.settings.months_abbr)&&void 0!==ve.settings.months_abbr[o-1]?ve.settings.months_abbr[o-1]:ve.settings.months[o-1].substr(0,3);case"F":i+=d;break;case"d":n=Ze(n,2);case"j":i+=n;break;case"D":r=Ie.isArray(ve.settings.days_abbr)&&void 0!==ve.settings.days_abbr[a]?ve.settings.days_abbr[a]:ve.settings.days[a].substr(0,3);case"l":i+=r;break;case"N":a++;case"w":i+=a;break;case"S":i+=n%10==1&&"11"!==n?"st":n%10==2&&"12"!==n?"nd":n%10==3&&"13"!==n?"rd":"th";break;case"g":i+=g;break;case"h":i+=Ze(g,2);break;case"G":i+=l;break;case"H":i+=Ze(l,2);break;case"i":i+=Ze(_,2);break;case"s":i+=Ze(h,2);break;case"a":i+=p;break;case"A":i+=p.toUpperCase();break;default:i+=s}return i},n=function(){var e,t,s,i,n,a,r,o,d,c,l,g=new Date(ie,se+1,0).getDate(),_=new Date(ie,se,1).getDay(),h=new Date(ie,se,0).getDate(),p=_-ve.settings.first_day_of_week;for(p=p<0?7+p:p,m(ve.settings.header_captions.days),t="<tr>",ve.settings.show_week_number&&(t+="<th>"+ve.settings.show_week_number+"</th>"),e=0;e<7;e++)t+="<th>"+(Ie.isArray(ve.settings.days_abbr)&&void 0!==ve.settings.days_abbr[(ve.settings.first_day_of_week+e)%7]?ve.settings.days_abbr[(ve.settings.first_day_of_week+e)%7]:ve.settings.days[(ve.settings.first_day_of_week+e)%7].substr(0,2))+"</th>";for(t+="</tr><tr>",e=0;e<42;e++)0<e&&e%7==0&&(t+="</tr><tr>"),e%7==0&&ve.settings.show_week_number&&(t+="<th>"+b(new Date(ie,se,e-p+1))+"</th>"),s=e-p+1,ve.settings.select_other_months&&(e<p||g<s)&&(n=(i=new Date(ie,se,s)).getFullYear(),a=i.getMonth(),r=i.getDate(),i=n+Ze(a+1,2)+Ze(r,2)),o=(ve.settings.first_day_of_week+e)%7,l=-1<Ie.inArray(o,ve.settings.weekend_days),e<p?t+='<td class="dp_not_in_month '+(l?"dp_weekend ":"")+(ve.settings.select_other_months&&!Me(n,a,r)?"date_"+i:"dp_disabled")+'">'+(ve.settings.select_other_months||ve.settings.show_other_months?Ze(h-p+e+1,ve.settings.zero_pad?2:0):"&nbsp;")+"</td>":g<s?t+='<td class="dp_not_in_month '+(l?"dp_weekend ":"")+(ve.settings.select_other_months&&!Me(n,a,r)?"date_"+i:"dp_disabled")+'">'+(ve.settings.select_other_months||ve.settings.show_other_months?Ze(s-g,ve.settings.zero_pad?2:0):"&nbsp;")+"</td>":(d="",c=f(ie,se,s),l&&(d=" dp_weekend"),se===S&&ie===Y&&Z===s&&(d+=" dp_current"),""!==c&&(d+=" "+c),se===N&&ie===H&&j===s&&(d+=" dp_selected"),Me(ie,se,s)&&(d+=" dp_disabled"),t+="<td"+(""!==d?' class="'+Ie.trim(d)+'"':"")+">"+((ve.settings.zero_pad?Ze(s,2):s)||"&nbsp;")+"</td>");t+="</tr>",z.html(Ie(t)),ve.settings.always_visible&&(u=Ie("td:not(.dp_disabled)",z)),z.show()},f=function(s,i,n){var a,e,r;for(e in void 0!==i&&(i+=1),x)if(a=x[e],r=!1,Ie.isArray(pe[a])&&Ie.each(pe[a],function(){if(!r){var e,t=this;if((-1<Ie.inArray(s,t[2])||-1<Ie.inArray("*",t[2]))&&(void 0!==i&&-1<Ie.inArray(i,t[1])||-1<Ie.inArray("*",t[1]))&&(void 0!==n&&-1<Ie.inArray(n,t[0])||-1<Ie.inArray("*",t[0]))){if(-1<Ie.inArray("*",t[3]))return r=a;if(e=new Date(s,i-1,n).getDay(),-1<Ie.inArray(e,t[3]))return r=a}}}),r)return r;return r||""},l=function(e){var t,s;if("explorer"===xe.name&&6===xe.version)switch(i||(t=Se(I.css("zIndex"))-1,i=Ie("<iframe>",{src:'javascript:document.write("")',scrolling:"no",frameborder:0,css:{zIndex:t,position:"absolute",top:-1e3,left:-1e3,width:I.outerWidth(),height:I.outerHeight(),filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)",display:"none"}}),Ie("body").append(i)),e){case"hide":i.hide();break;default:s=I.offset(),i.css({top:s.top,left:s.left,display:"block"})}},Me=function(s,i,n){var e,t,a,r;if(!(void 0!==s&&!isNaN(s)||void 0!==i&&!isNaN(i)||void 0!==n&&!isNaN(n)))return!1;if(s<1e3)return!0;if(Ie.isArray(ve.settings.direction)||0!==Se(ve.settings.direction)){if(8===(t=((e=Se(o(s,void 0!==i?Ze(i,2):"",void 0!==n?Ze(n,2):"")))+"").length)&&(void 0!==re&&e<Se(o(B,Ze(W,2),Ze(R,2)))||void 0!==L&&e>Se(o(V,Ze(U,2),Ze(G,2)))))return!0;if(6===t&&(void 0!==re&&e<Se(o(B,Ze(W,2)))||void 0!==L&&e>Se(o(V,Ze(U,2)))))return!0;if(4===t&&(void 0!==re&&e<B||void 0!==L&&V<e))return!0}return void 0!==i&&(i+=1),r=a=!1,Ie.isArray(O)&&O.length&&Ie.each(O,function(){if(!a){var e,t=this;if((-1<Ie.inArray(s,t[2])||-1<Ie.inArray("*",t[2]))&&(void 0!==i&&-1<Ie.inArray(i,t[1])||-1<Ie.inArray("*",t[1]))&&(void 0!==n&&-1<Ie.inArray(n,t[0])||-1<Ie.inArray("*",t[0]))){if(-1<Ie.inArray("*",t[3]))return a=!0;if(e=new Date(s,i-1,n).getDay(),-1<Ie.inArray(e,t[3]))return a=!0}}}),T&&Ie.each(T,function(){if(!r){var e,t=this;if((-1<Ie.inArray(s,t[2])||-1<Ie.inArray("*",t[2]))&&(r=!0,void 0!==i))if(r=!0,-1<Ie.inArray(i,t[1])||-1<Ie.inArray("*",t[1])){if(void 0!==n)if(r=!0,-1<Ie.inArray(n,t[0])||-1<Ie.inArray("*",t[0])){if(-1<Ie.inArray("*",t[3]))return r=!0;if(e=new Date(s,i-1,n).getDay(),-1<Ie.inArray(e,t[3]))return r=!0;r=!1}else r=!1}else r=!1}}),(!T||!r)&&!(!O||!a)},Ce=function(e){return(e+"").match(/^\-?[0-9]+$/)},m=function(e){!isNaN(parseFloat(se))&&isFinite(se)&&(e=e.replace(/\bm\b|\bn\b|\bF\b|\bM\b/,function(e){switch(e){case"m":return Ze(se+1,2);case"n":return se+1;case"F":return ve.settings.months[se];case"M":return Ie.isArray(ve.settings.months_abbr)&&void 0!==ve.settings.months_abbr[se]?ve.settings.months_abbr[se]:ve.settings.months[se].substr(0,3);default:return e}})),!isNaN(parseFloat(ie))&&isFinite(ie)&&(e=e.replace(/\bY\b/,ie).replace(/\by\b/,(ie+"").substr(2)).replace(/\bY1\b/i,ie-7).replace(/\bY2\b/i,ie+4)),Ie(".dp_caption",Q).html(e)},Pe=function(){var e,t,s;""===z.text()||"days"===ge?(""===z.text()?(ve.settings.always_visible instanceof jQuery||I.css("left",-1e3),I.removeClass("hidden"),n(),e=void 0!==z[0].getBoundingClientRect&&void 0!==z[0].getBoundingClientRect().height?z[0].getBoundingClientRect().height:z.outerHeight(!0),$.css("height",e),le.css("height",e),de.css("height",e+Q.outerHeight(!0)),I.css("width",I.outerWidth()),I.addClass("dp_hidden")):n(),Q.show(),$.hide(),le.hide(),de.hide(),te.hide(),F.hide(),ce&&te.show().removeClass("dp_calendar")):"months"===ge?(!function(){m(ve.settings.header_captions.months);var e,t,s="<tr>";for(e=0;e<12;e++)0<e&&e%3==0&&(s+="</tr><tr>"),t="dp_month_"+e,Me(ie,e)?t+=" dp_disabled":!1!==N&&N===e&&ie===H?t+=" dp_selected":S===e&&Y===ie&&(t+=" dp_current"),s+='<td class="'+Ie.trim(t)+'">'+(Ie.isArray(ve.settings.months_abbr)&&void 0!==ve.settings.months_abbr[e]?ve.settings.months_abbr[e]:ve.settings.months[e].substr(0,3))+"</td>";s+="</tr>",$.html(Ie(s)),ve.settings.always_visible&&(d=Ie("td:not(.dp_disabled)",$)),$.show()}(),z.hide(),le.hide(),de.hide(),te.hide(),F.hide()):"years"===ge?(!function(){m(ve.settings.header_captions.years);var e,t,s="<tr>";for(e=0;e<12;e++)0<e&&e%3==0&&(s+="</tr><tr>"),t="",Me(ie-7+e)?t+=" dp_disabled":H&&H===ie-7+e?t+=" dp_selected":Y===ie-7+e&&(t+=" dp_current"),s+="<td"+(""!==Ie.trim(t)?' class="'+Ie.trim(t)+'"':"")+">"+(ie-7+e)+"</td>";s+="</tr>",le.html(Ie(s)),ve.settings.always_visible&&(c=Ie("td:not(.dp_disabled)",le)),le.show()}(),z.hide(),$.hide(),de.hide(),te.hide(),F.hide()):"time"===ge&&(s='<tr class="dp_time_controls_increase">'+(ce.hours?'<td class="dp_time_hour dp_time_control">'+ve.settings.navigation[2]+"</td>":"")+(ce.minutes?'<td class="dp_time_minute dp_time_control">'+ve.settings.navigation[2]+"</td>":"")+(ce.seconds?'<td class="dp_time_second dp_time_control">'+ve.settings.navigation[2]+"</td>":"")+(ce.ampm?'<td class="dp_time_ampm dp_time_control">'+ve.settings.navigation[2]+"</td>":"")+"</tr>",s+='<tr class="dp_time_segments">',ce.hours&&(s+='<td class="dp_time_hours dp_disabled'+(ce.minutes||ce.seconds||ce.ampm?" dp_time_separator":"")+'"><div>'+Ze(q,2)+"</div></td>"),ce.minutes&&(s+='<td class="dp_time_minutes dp_disabled'+(ce.seconds||ce.ampm?" dp_time_separator":"")+'"><div>'+Ze(X,2)+"</div></td>"),ce.seconds&&(s+='<td class="dp_time_seconds dp_disabled'+(ce.ampm?" dp_time_separator":"")+'"><div>'+Ze(K,2)+"</div></td>"),ce.ampm&&(s+='<td class="dp_time_ampm dp_disabled">'+ee.toUpperCase()+"</td>"),s+="</tr>",s+='<tr class="dp_time_controls_decrease">'+(ce.hours?'<td class="dp_time_hour dp_time_control">'+ve.settings.navigation[3]+"</td>":"")+(ce.minutes?'<td class="dp_time_minute dp_time_control">'+ve.settings.navigation[3]+"</td>":"")+(ce.seconds?'<td class="dp_time_second dp_time_control">'+ve.settings.navigation[3]+"</td>":"")+(ce.ampm?'<td class="dp_time_ampm dp_time_control">'+ve.settings.navigation[3]+"</td>":"")+"</tr>",de.html(Ie(s)),de.show(),1===_e.length?(te.hide(),F.show()):(te.show().addClass("dp_calendar"),""===we.val()?F.hide():F.show()),Q.hide(),z.hide(),$.hide(),le.hide()),"time"!==ge&&ve.settings.onChange&&"function"==typeof ve.settings.onChange&&void 0!==ge&&((t="days"===ge?z.find("td:not(.dp_disabled)"):"months"===ge?$.find("td:not(.dp_disabled)"):le.find("td:not(.dp_disabled)")).each(function(){var e;"days"===ge?Ie(this).hasClass("dp_not_in_month")&&!Ie(this).hasClass("dp_disabled")?(e=Ie(this).attr("class").match(/date\_([0-9]{4})(0[1-9]|1[012])(0[1-9]|[12][0-9]|3[01])/),Ie(this).data("date",e[1]+"-"+e[2]+"-"+e[3])):Ie(this).data("date",ie+"-"+Ze(se+1,2)+"-"+Ze(Se(Ie(this).text()),2)):"months"===ge?(e=Ie(this).attr("class").match(/dp\_month\_([0-9]+)/),Ie(this).data("date",ie+"-"+Ze(Se(e[1])+1,2))):Ie(this).data("date",Se(Ie(this).text()))}),ve.settings.onChange.call(we,ge,t)),E.show(),"time"===ge&&1<_e.length?(ne.hide(),C.hide(),te.css("width",""===we.val()?"100%":"50%")):(ne.show(),C.show(),!0===ve.settings.show_clear_date||0===ve.settings.show_clear_date&&""!==we.val()||ve.settings.always_visible&&!1!==ve.settings.show_clear_date?ae?(ne.css("width","50%"),C.css("width","50%")):(ne.hide(),C.css("width",-1<Ie.inArray(_e,"time")?"50%":"100%")):(C.hide(),ae?ne.css("width","100%"):(ne.hide(),(!ce||"time"!==ge&&"days"!==ge)&&E.hide())))},Fe=function(e,t,s,i,n){var a=new Date(e,t,s,ce&&ce.hours?q+(ce.ampm?"pm"===ee&&12!==q?12:"am"===ee&&12===q?-12:0:0):12,ce&&ce.minutes?X:0,ce&&ce.seconds?K:0),r="days"===i?u:"months"===i?d:c,o=Ae(a);we.val(o),(ve.settings.always_visible||ce)&&(N=a.getMonth(),se=a.getMonth(),H=a.getFullYear(),ie=a.getFullYear(),j=a.getDate(),n&&r&&(r.removeClass("dp_selected"),n.addClass("dp_selected"),"days"===i&&n.hasClass("dp_not_in_month")&&!n.hasClass("dp_disabled")&&ve.show())),ce?(ge="time",Pe()):(we.focus(),ve.hide()),Ye(a),!ce&&ve.settings.onSelect&&"function"==typeof ve.settings.onSelect&&ve.settings.onSelect.call(we,o,e+"-"+Ze(t+1,2)+"-"+Ze(s,2),a)},o=function(){var e,t="";for(e=0;e<arguments.length;e++)t+=arguments[e]+"";return t},Ze=function(e,t){for(e+="";e.length<t;)e="0"+e;return e},Se=function(e){return parseInt(e,10)},Ye=function(s){ve.settings.pair&&Ie.each(ve.settings.pair,function(){var e,t=Ie(this);t.data&&t.data("Zebra_DatePicker")?((e=t.data("Zebra_DatePicker")).update({reference_date:s,direction:0===e.settings.direction?1:e.settings.direction}),e.settings.always_visible&&e.show()):t.data("zdp_reference_date",s)})},b=function(e){var t,s,i,n,a,r,o,d=e.getFullYear(),c=e.getMonth()+1,l=e.getDate();return c<3?(i=(s=((t=d-1)/4|0)-(t/100|0)+(t/400|0))-(((t-1)/4|0)-((t-1)/100|0)+((t-1)/400|0)),n=0,a=l-1+31*(c-1)):(n=(i=(s=((t=d)/4|0)-(t/100|0)+(t/400|0))-(((t-1)/4|0)-((t-1)/100|0)+((t-1)/400|0)))+1,a=l+((153*(c-3)+2)/5|0)+58+i),(o=a+3-(l=(a+(r=(t+s)%7)-n)%7))<0?53-((r-i)/5|0):364+i<o?1:1+(o/7|0)},xe={init:function(){this.name=this.searchString(this.dataBrowser)||"",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||""},searchString:function(e){var t,s,i;for(t=0;t<e.length;t++)if(s=e[t].string,i=e[t].prop,this.versionSearchString=e[t].versionSearch||e[t].identity,s){if(-1!==s.indexOf(e[t].subString))return e[t].identity}else if(i)return e[t].identity},searchVersion:function(e){var t=e.indexOf(this.versionSearchString);if(-1!==t)return parseFloat(e.substring(t+this.versionSearchString.length+1))},dataBrowser:[{string:navigator.userAgent,subString:"Firefox",identity:"firefox"},{string:navigator.userAgent,subString:"MSIE",identity:"explorer",versionSearch:"MSIE"}]};xe.init(),t()},Ie.fn.Zebra_DatePicker=function(t){return this.each(function(){void 0!==Ie(this).data("Zebra_DatePicker")&&Ie(this).data("Zebra_DatePicker").destroy();var e=new Ie.Zebra_DatePicker(this,t);Ie(this).data("Zebra_DatePicker",e)})},Ie.fn.Zebra_DatePicker.defaults={}});